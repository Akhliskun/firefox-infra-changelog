## AUTOLAND COMMIT MARKDOWN TABLE SINCE 2018-11-22 01:43:30.355108

| Commit Number | Commiter | Commit Message | Commit Url | Date | 
|:---:|:----:|:----------------------------------:|:------:|:----:| 
|20|Henrik Skupin |Bug 1351940 - [marionette] Only convert a valid outerWindowID to a string. r=ato  Differential Revision: https://phabricator.services.mozilla.com/D13206|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=95c294286e66)|2018-11-28 20:48:42
|19|Nico Grunbaum |Bug 1324788 - Bug 1324688 - Bring RTCIceCandidateStats up to spec r=mjf,jib,smaug  Bug 1324788 - P1 - rename RTCIceCandidate stat "portNumber" to spec "port" Bug 1324788 - P2 - update RTCIceCandidateStats candidateType enum to spec Bug 1324788 - P3 - add RTCIceCandidatePair.priority stat Bug 1324788 - P4 - update WebRTC ICE candidate stats field componentId to spec name transportId Bug 1324788 - P5 - remove deprecated RTCIceCandidateStats.mozLocalTransport field Bug 1324788 - P6 - update WebRTC ICE candidate stats field transport to spec name, protocol Bug 1324788 - P7 - remove deprecated RTCIceCandidateStats.candidateId Bug 1324788 - P8 - reorder RTCIceCandidateStats dictionary members to match the spec Bug 1324788 - P9 - make RTCIceCandidateStats.transportId ChromeOnly  Differential Revision: https://phabricator.services.mozilla.com/D12953|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=e5c59d7e5a55)|2018-11-28 20:30:07
|18|Michael Kaply |Bug 1507629 - Switch to localized Amazon where possible. r=flod  Differential Revision: https://phabricator.services.mozilla.com/D13297|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=d1415db52fe8)|2018-11-28 19:39:12
|17|Jason Orendorff |Bug 1506200 - Remove ReadableStream EmbeddingFlags. r=baku,jwalden  Differential Revision: https://phabricator.services.mozilla.com/D11903|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=b14418449896)|2018-11-28 22:20:55
|16|Henrik Skupin |Bug 1509256 - Fix application update preferences for backward compatibility in Marionette and geckodriver. r=ato,bytesized  Because in Marionette the application updates cannot be turned off via the preference "app.update.disabledForTesting" (see bug 1508726), the preference "app.update.auto" has to be used for the time being to control that by default no updates should be downloaded and installed.  Even "app.update.disabledForTesting" doesn't work right now, it might be good to leave it. It would help us in the future so that we won't have to release new Marionette client and geckodriver releases, if it gets supported in Firefox.  Note that this band-aid fix will only work for Firefox releases from 57 to 64. For Firefox 65 and onwards the fix on bug 1508726 will be needed.  Depends on D13059  Differential Revision: https://phabricator.services.mozilla.com/D13060|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=0ed1cec73c66)|2018-11-28 22:10:40
|15|Henrik Skupin |Bug 1509256 - Clarify where to add preferences for geckodriver and Marionette. r=ato  It should be made clear that only those preferences should be added to marionette.js which have an immediate effect. All others which eg. require a restart, or have to be set before the application starts the first time, must be added to the appropriate client's profile generation code.  Differential Revision: https://phabricator.services.mozilla.com/D13059|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=50ff40cd5813)|2018-11-27 20:12:04
|14|Razvan Caliman |Bug 1508338 - Add dark theme colors to Changes panel; r=gl  Differential Revision: https://phabricator.services.mozilla.com/D12770|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=162db3b0344a)|2018-11-28 21:58:22
|13|Andrew McCreight |Bug 1510478 - Disable clang-formatting for XPTCall stub files. r=Ehsan  Many of the inline assembly macros in these files get reformatted poorly by clang-format, so don't format them for now. In followup work, in bug 1510781, hopefully we can write a larger patch to only disable clang-format for the specific macros and then format the rest of the files.  The problematic include STUB_ENTRY and STUB_MANGLED_ENTRY.  Differential Revision: https://phabricator.services.mozilla.com/D13311|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=c67e1875a652)|2018-11-28 21:26:43
|12|Andrew McCreight |Bug 1508818, part 5 - Disable Clang formatting in a few places in xpcom/. r=froydnj  nsCRTGlue.cpp has a few data tables that get broken up badly by clang-format, so just disable the formatting. There are some more tables in this file, but the arrangement doesn't seem to matter for them.  The bloat log header is just a little bit of ASCII art, so just ignore it in formatting so it is easier to read.  MOZ_COLLECT_REPORT uses very wide string constants that get rewrapped in an ugly way by clang-format, so just disable the formatting for them.  Depends on D13185  Differential Revision: https://phabricator.services.mozilla.com/D13186|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=d53add8e4130)|2018-11-28 21:06:13
|11|Andrew McCreight |Bug 1508818, part 4 - Rearrange various string literals so they fit in 80 columns. r=froydnj  clang-format doesn't seem to reflow text when a single string constant is represented as multiple lines of string literals to fit within 80 columns. Instead, if a single string literal is too long, it breaks off a piece and moves it to the next line, which leads to a bunch of choppy short string bits. The resulting string literals are still a bit choppy, mostly because I didn't want to break up the long names of prefs.  Here's an example of what I mean:  |--- max width --- | "some long string literal" "is here but it goes on for multiple lines"  This gets turned into:  |--- max width --- | "some long string " "literal" "is here but it " "goes on for multiple lines"  My patch manually would turn this into:  |--- max width --- | "some long string " "literal is here " "but it goes on " "for multiple lines"  The strings in my patch don't always end up at column 80, because the width is set to work with wherever clang format ends up actually indenting them.  There are more instances of this problem when MOZ_COLLECT_REPORT is used, but that can be dealt with in another bug. There are a ton of them.  Depends on D13184  Differential Revision: https://phabricator.services.mozilla.com/D13185|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=09c2de91a87f)|2018-11-28 21:06:53
|10|Andrew McCreight |Bug 1508818, part 3 - Shrink comments so they don't get poorly reflowed by clang-format. r=froydnj  Clang format does not always reflow comments correctly to get them within 80 columns.  The major categories of failures I have noticed in xpcom/ are:  - Comments that are lists. I fixed these by manually getting them so   they'll be within 80 columns after clang-format runs.  - Comments intermixed with lists of things like enums, initializers,   or even fields in a class. It doesn't seem to associate the comment   with the item in the list correctly. The worst cases of these happen   when it changes initializer lists from having commas at the start of   each item to having them at the end. In the initializer comma cases,   I fixed them by making the commas at the end, so clang-format won't   mix things up. For other cases, I often moved the comment for an   item onto its own line, because it was not possible to have both the   comment and the item on the same line and stay within 80 columns.  - One odd case is nsEnumeratorUtils.cpp, where the end of line comment   after a NS_DECL macro confused clang-format and made it stop   realizing that the NS_DECL thing was a complete statement. I also   added a blank line to that file before a declaration because I think   that is better.  Depends on D13183  Differential Revision: https://phabricator.services.mozilla.com/D13184|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=67b1d1e43301)|2018-11-28 21:06:09
|9|Andrew McCreight |Bug 1508818, part 2 - Remove DEBUG_rickg from nsDeque.cpp. r=froydnj  Clang format makes this code look pretty bad, but I think it is safe to just remove it.  Depends on D13182  Differential Revision: https://phabricator.services.mozilla.com/D13183|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=b226d4c40893)|2018-11-28 21:06:07
|8|Jed Davis |Bug 1474991 - Add new and improved performance telemetry for child process launching. r=mccr8,mconley,janerik  This patch adds some telemetry histograms:    CONTENT_PROCESS_LAUNCH_IS_SYNC - boolean, true if the content process was launched synchronously (blocking the main thread)    CONTENT_PROCESS_SYNC_LAUNCH_MS - the time consumed by sync launch; the main thread will be busy or blocked for this entire time    CONTENT_PROCESS_LAUNCH_TOTAL_MS - the total time elapsed from the start of async content process launch until the launch promise is resolved and the ContentParent can be sent IPDL messages    CONTENT_PROCESS_LAUNCH_MAINTHREAD_MS - the time consumed on the parent process main thread during async content process launch; typically this is due to ContentParent::Init.    CHILD_PROCESS_LAUNCH_MS - for any kind of Gecko child process (including plugins, GPU, etc.), the time taken in the common process launch code (which is run off-main-thread)  The probes restricted to async content process launch don't have "async" in the name because that will eventually become the only kind of content process launch.  Depends on D8943  Differential Revision: https://phabricator.services.mozilla.com/D8944|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=41195aed7eef)|2018-11-28 20:42:33
|7|Jed Davis |Bug 1446161 - Asynchronously launch preallocated content processes using MozPromise. r=mccr8  There are several layers to this patch:  1. GeckoChildProcessHost now exposes a promise that's resolved when the process handle is available (or rejected if launch failed), as a nonblocking alternative to LaunchAndWaitForProcessHandle.  2. ContentParent builds on this with the private method LaunchSubprocessAsync and the public method PreallocateProcessAsync; synchronous launch continues to exist for the regular on-demand launch path, for the time being.  3. PreallocatedProcessManager now uses async launch, and handles the new "launch in progress" state appropriately.  Depends on D8942  Differential Revision: https://phabricator.services.mozilla.com/D8943|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=9f5e62b65302)|2018-11-28 20:42:31
|6|Jed Davis |Bug 1446161 - Remove the earlier attempt at async launch. r=spohl,mccr8  The first attempt at async launch tried to hide the asynchrony inside IPC, by making the process seem to be launched enough to construct new channels and send it messages, and lazily blocking on the pid/handle. Unfortunately, in practice we wind up needing the pid/handle immediately, and this requirement is too deeply embedded in IPC for that to be viable.  (The alternative that will be used instead -- exposing process launch via an explicitly asynchronous promise interface -- is made simpler by Project Fission's upcoming rewrite of how the DOM requests new content processes.)  Depends on D8941  Differential Revision: https://phabricator.services.mozilla.com/D8942|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=3cbd2cf23c86)|2018-11-28 20:42:24
|5|Jed Davis |Bug 1446161 - Remove CONTENT_PROCESS_LAUNCH_TIME_MS telemetry. r=mconley,chutten  The CONTENT_PROCESS_LAUNCH_TIME_MS histogram is currently gathering times from two different spans of the launch process and mixing them together; it's at best a rough approximation of "launch time".  In addition, with async launch we'll want to gather different metrics than for sync launch (see comments on bug 1474991).  So I'm removing this histogram and will replace it with separate sync and async metrics in bug 1474991; I intend to land both bugs' patches at or near the same time, so we won't have a gap in getting some kind of data.  Depends on D8940  Differential Revision: https://phabricator.services.mozilla.com/D8941|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=25b4fcd4382d)|2018-11-28 20:42:17
|4|Jed Davis |Bug 1496608 - Don't leak GeckoChildProcessHost when a content process fails to launch. r=mccr8  Depends on D8939  Differential Revision: https://phabricator.services.mozilla.com/D8940|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=1b92017b4865)|2018-11-28 20:42:07
|3|Jed Davis |Bug 1488993 - Fix PreallocatedProcessManager blocker management (v2). r=mconley,smaug  This fixes/adjusts two things about how content process preallocation is blocked:  1. Processes aren't registered as blockers until after they launch successfully.  The main goal is to not leak a blocker if launch fails, but we don't need to block  while  launching synchronously, because this all happens on the main thread.  2. Preallocated processes themselves aren't blockers.  The main goal here is so that async preallocation doesn't need extra complexity to avoid being blocked by itself when launch completes.  This mostly doesn't affect actual behavior, because we currently support at most one preallocated process.  The difference is the window from when the process is sent its first PBrowserConstructor until when it's next idle, where there is now no longer a blocker, but this seems to be relatively short (~100ms) and we don't even try to launch a new process until at least 1s + an idle runnable.  This patch does not explicitly RemoveBlocker in ActorDestroy like the first attempt did, because it's unnecessary: this is handled in the ipc:content-shutdown observer.  Differential Revision: https://phabricator.services.mozilla.com/D8939|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=e0e1a14b592f)|2018-11-28 20:42:00
|2|Gabriele Svelto |Bug 1510582 - Remove useless inclusions of Services.h r=erahm  Differential Revision: https://phabricator.services.mozilla.com/D13240|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=5b0d04272c75)|2018-11-28 17:25:23
|1|Dan Minor |Bug 1509994 - Regenerate moz.build files; r=pehrsons  Depends on D13095  Differential Revision: https://phabricator.services.mozilla.com/D13096|[URL](https://hg.mozilla.org/integration/autoland/pushloghtml?changeset=352048c07693)|2018-11-27 17:34:05


