{
  "node": "1c2dfc347631f4d543815a9b83139142cafca00b",
  "changeset_count": 6690,
  "changesets": [
    {
      "node": "1c2dfc347631f4d543815a9b83139142cafca00b",
      "date": [
        1541444706.0,
        0
      ],
      "desc": "hgserver: fix `test-clonebundles.t` test output in 4.8+ (Bug 1501686) r=gps\n\nSeveral of the function line numbers in the clonebundles test\nhave been updated under Mercurial 4.8, as well as a new layer\non the call stack. This commit makes the line numbers generic\nusing regular expressions and adds a conditional check for\nthe extra function call under 4.8+.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10939",
      "branch": "default",
      "bookmarks": [
        "@"
      ],
      "tags": [
        "tip"
      ],
      "user": "Connor Sheehan <sheehan@mozilla.com>",
      "phase": "public",
      "parents": [
        "6b67bef46badcbb90eab545e35f9134dfd24aea0"
      ],
      "pushid": 3311,
      "pushdate": [
        1541444718,
        0
      ]
    },
    {
      "node": "6b67bef46badcbb90eab545e35f9134dfd24aea0",
      "date": [
        1541444686.0,
        0
      ],
      "desc": "serverlog: use `req.apppath` instead of deprecated `env['REPO_NAME']` (Bug 1501686) r=gps\n\n`env.get('REPO_NAME')` now resolves to the full local\nrepo path under Mercurial 4.8 (ie `mozilla-central` is\nnow `/repo_local/mozilla/mozilla/mozilla-central`.\nRecent versions of Mercurial now support `req.apppath`\nwhich returns values similar to the old behaviour,\nso we switch to that value and updates tests accordingly.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10938",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Connor Sheehan <sheehan@mozilla.com>",
      "phase": "public",
      "parents": [
        "d36fea6ba0b5ae373c75e562bc71ae7437d6930a"
      ],
      "pushid": 3311,
      "pushdate": [
        1541444718,
        0
      ]
    },
    {
      "node": "d36fea6ba0b5ae373c75e562bc71ae7437d6930a",
      "date": [
        1541444593.0,
        0
      ],
      "desc": "pushlog: fix test output difference between 4.8rc0 and 4.8 (Bug 1501686) r=gps\n\nAs with the previous commit, error output is now in a JSON\nobject format instead of a raw string.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10937",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Connor Sheehan <sheehan@mozilla.com>",
      "phase": "public",
      "parents": [
        "2ee5f7e7ca11c3cb0e1ac67777a8d952ebc7f3e9"
      ],
      "pushid": 3311,
      "pushdate": [
        1541444718,
        0
      ]
    },
    {
      "node": "2ee5f7e7ca11c3cb0e1ac67777a8d952ebc7f3e9",
      "date": [
        1541444580.0,
        0
      ],
      "desc": "hgmo: fix breakages between candidate and official 4.8 release (Bug 1501686) r=gps\n\nIt seems there were a few breakages between 4.8rc0 and 4.8,\nmainly with regard to using the \"error\" template. The\ntemplate now takes an string as the `error` kwarg, instead\nof a dict with a redundant `error` key in previous releases.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10936",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Connor Sheehan <sheehan@mozilla.com>",
      "phase": "public",
      "parents": [
        "0b7651251a49dab87836055182187b4a2317ab4d"
      ],
      "pushid": 3311,
      "pushdate": [
        1541444718,
        0
      ]
    },
    {
      "node": "0b7651251a49dab87836055182187b4a2317ab4d",
      "date": [
        1541441476.0,
        0
      ],
      "desc": "firefoxtree: enable compatibility with Mercurial 4.8 (Bug 1501686) r=gps\n\nIn versions above 4.8, the old-style template keyword\ndefinitions will be deprecated. This commit forces\nthe `fxheads` template keyword to be dynamically\ndefined with the new API in versions above 4.6, and\nwith the old API for versions below 4.6. Doing so\nfixes a deprecation warning in tests on version\n4.8 and makes us compatible with modern hg.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10917",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Connor Sheehan <sheehan@mozilla.com>",
      "phase": "public",
      "parents": [
        "fb334ef4adbbe3cc7fa1c4d0fae3bc29c55fbd8c"
      ],
      "pushid": 3310,
      "pushdate": [
        1541441486,
        0
      ]
    },
    {
      "node": "fb334ef4adbbe3cc7fa1c4d0fae3bc29c55fbd8c",
      "date": [
        1541441409.0,
        0
      ],
      "desc": "firefoxtree: remove 4.3 compatibility code r=gps\n\nNow that 4.8 is out, we support versions 4.4+.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10916",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Connor Sheehan <sheehan@mozilla.com>",
      "phase": "public",
      "parents": [
        "00ccbed63e76757e89cfdbd03af39ae2fa0e6cc9"
      ],
      "pushid": 3310,
      "pushdate": [
        1541441486,
        0
      ]
    },
    {
      "node": "00ccbed63e76757e89cfdbd03af39ae2fa0e6cc9",
      "date": [
        1541441339.0,
        0
      ],
      "desc": "vcsreplicator: update test output and mark as 4.8 compatible (Bug 1501686) r=gps\n\nvcsreplicator has some changed output in tests under\nMercurial 4.8, with no other changes required for\npassing tests. Marking as 4.8 compatible.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10408",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Connor Sheehan <sheehan@mozilla.com>",
      "phase": "public",
      "parents": [
        "e44c2edea27ed2af96ed796b31db5bc23f195ced"
      ],
      "pushid": 3309,
      "pushdate": [
        1541441372,
        0
      ]
    },
    {
      "node": "e44c2edea27ed2af96ed796b31db5bc23f195ced",
      "date": [
        1541190523.0,
        25200
      ],
      "desc": "testing: install Mercurial 4.8 final\n\nIt was released a few hours ago.",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "d3d184961f09c625f180de631be848347be7881a"
      ],
      "pushid": 3308,
      "pushdate": [
        1541190530,
        0
      ]
    },
    {
      "node": "d3d184961f09c625f180de631be848347be7881a",
      "date": [
        1541190437.0,
        25200
      ],
      "desc": "ansible: use ansible_become instead of ansible_sudo\n\nThis is needed in order for Ansible to run tasks as root.",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "a3d756fd35b082c16af6841924f03d0457a3f764"
      ],
      "pushid": 3307,
      "pushdate": [
        1541190447,
        0
      ]
    },
    {
      "node": "a3d756fd35b082c16af6841924f03d0457a3f764",
      "date": [
        1541173111.0,
        0
      ],
      "desc": "ansible: upgrade to Ansible 2.5; r=sheehan\n\nPorting notes are available at\nhttps://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.5.html.\n\nThere are a ton of changes in this release.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10662",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "e586b1e2a0ab70cc5114014d3964c4a6ba4071e3"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "e586b1e2a0ab70cc5114014d3964c4a6ba4071e3",
      "date": [
        1541172951.0,
        0
      ],
      "desc": "ansible: upgrade to Ansible 2.4; r=sheehan\n\nPorting notes are available at\nhttps://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.4.html.\n\nWe see some new deprecation warnings regarding the use of \"include:\".\nBut reading release notes, the \"include_tasks\" and \"import_tasks\"\nreplacements were kind of half-baked in 2.4. So I'm going to hold off\nporting things.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10661",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "811de1502626e0b4730497dfb5e3907907beb11a"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "811de1502626e0b4730497dfb5e3907907beb11a",
      "date": [
        1541172906.0,
        0
      ],
      "desc": "ansible: avoid jinja template syntax in when: statements; r=sheehan\n\nAnsible 2.3 added a warning when \"{{ }}\" syntax is used in when:\nconditionals. There were a few of these in our repo.\n\nThis commit removes them.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10660",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "88fa0246970b6eee18512b7f6a2a8a6fbe43b585"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "88fa0246970b6eee18512b7f6a2a8a6fbe43b585",
      "date": [
        1541172876.0,
        0
      ],
      "desc": "ansible: upgrade to Ansible 2.3; r=sheehan\n\nAnsible 2.3 has a porting guide:\nhttps://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.3.html.\n\nThis upgrade introduces some legitimate new warnings. So we touch the\nclobber files to force a Docker image rebuild with the newer Ansible\nso we can port to new mechanisms.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10659",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "8b53aa730300fb304426b6b91b0ad9d1d7d81b73"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "8b53aa730300fb304426b6b91b0ad9d1d7d81b73",
      "date": [
        1541172551.0,
        0
      ],
      "desc": "ansible: upgrade to Ansible 2.2; r=sheehan\n\nIt appears Ansible 2.1 and 2.2 are quite boring when it comes to\nporting. We can go straight to 2.2 and we still don't appear to have\nany new warnings or deprecation notices.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10658",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "31164c8572c12ad3d2c08c25a7efed7a451c86ce"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "31164c8572c12ad3d2c08c25a7efed7a451c86ce",
      "date": [
        1541172507.0,
        0
      ],
      "desc": "ansible: upgrade to Ansible 2.0; r=sheehan\n\nWe are running Ansible 1.9, which is relatively old and has known\nsecurity vulnerabilities. I initially held off upgrading because Ansible\n2 was much slower. Enough time has passed that we are too far out of\ndate on Ansible and we can no longer live with the security issues.\nLet's upgrade to a newer Ansible.\n\nAnsible 2.7 is the latest Ansible. But there are a number of\nbackwards incompatible changes to it that make the jump straight to\nit pretty difficult. Our approach to the upgrade will be to make\nsmaller jumps so we can understand them easier.\n\nOur first step is Ansible 2.0.\n\nThe porting guide to 2.0 can be found at\nhttps://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.0.html.\n\nWhile it lists a number of changes, I couldn't find any obvious\nviolations in our Ansible code! However, I did not verify every\nsingle Ansible playbook. So there may be legacy Ansible code lingering.\nThis caveat applies to all future patches as well.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10657",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "256ea8e6e0fc66ea3c8d30fb2f308a5a11a6fb60"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "256ea8e6e0fc66ea3c8d30fb2f308a5a11a6fb60",
      "date": [
        1541172438.0,
        0
      ],
      "desc": "env: upgrade to latest boto packages; r=sheehan\n\nA new package was released. Let's upgrade to it.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10656",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "ba44b26a765fcd64af10e924e747527af1ca2aae"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "ba44b26a765fcd64af10e924e747527af1ca2aae",
      "date": [
        1541172412.0,
        0
      ],
      "desc": "ansible: rename requirements file to not have \"1.9\" in it; r=sheehan\n\nIn preparation for upgrading past Ansible 1.9.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10655",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "ce44fbac066d3e4560677a5989215c0b2767d047"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "ce44fbac066d3e4560677a5989215c0b2767d047",
      "date": [
        1541171030.0,
        0
      ],
      "desc": "testing: stream raw chunks into BytesIO(); r=sheehan\n\nWith the recent upgrade to the docker package, this get_archive()'s\nfirst returned element is a generator of chunks, not a file object.\n\nWith this change, we are now able to start various Docker clusters\nagain.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10649",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "bb10838d737de7be2972397675d0f5fcf04501a9"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "bb10838d737de7be2972397675d0f5fcf04501a9",
      "date": [
        1541170942.0,
        0
      ],
      "desc": "github-webhooks: upgrade kombu; r=sheehan\n\nWe run this version of kombu elsewhere.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10641",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "09d48e68d1b627399bacab278086597cfa1f3e11"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    },
    {
      "node": "09d48e68d1b627399bacab278086597cfa1f3e11",
      "date": [
        1541170912.0,
        0
      ],
      "desc": "github-webhooks: unpin dependencies and upgrade packages; r=sheehan\n\nIt should be safe to run the latest version of packages.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D10640",
      "branch": "default",
      "bookmarks": [],
      "tags": [],
      "user": "Gregory Szorc <gps@mozilla.com>",
      "phase": "public",
      "parents": [
        "d5e3b21d269a90d3082afa5bf2dfa6bc5f29e6fa"
      ],
      "pushid": 3306,
      "pushdate": [
        1541173483,
        0
      ]
    }
  ]
}