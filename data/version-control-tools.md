## version-control-tools MD table
Generated on: 2019-06-15T12:13:47

| Commit Number | Commiter | Commit Message | Commit Url | Date | 
|:-----:|:-----:|:----------------------------------:|:------:|:----:| 
|1|Connor Sheehan |format-source: enable compatibility with Mercurial 5.0 ( [Bug 1545236](https://bugzilla.mozilla.org/show_bug.cgi?id=1545236)  ) r=andiformat-source was never made compatible with Mercurial 5.0, sincethe extension was disabled on Firefox developer machines. Nowthat we plan to use the extension for a JavaScript reformat using`prettier`, the extension will need to be compatible with newerversions of Mercurial.In this commit we apply compatibility patches fro.. [continue reading]( https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b53f77f17586 )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b53f77f17586)|2019-06-13 15:00:50
|2|Connor Sheehan |py3: global replace `iteritems( )` with `items( )` ( [Bug 1541166](https://bugzilla.mozilla.org/show_bug.cgi?id=1541166)  ) r=lars`iteritems( )` doesn't exist in Py3, with `items( )` instead returninga generator by default. This commit switches all instances of theold `iteritems` method with `items`. In all cases except one, wewere evaluating the full list of items regardless of the generatorbased function call, and the instance where we were only returneda s.. [continue reading]( https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6b4c5f3ae719 )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6b4c5f3ae719)|2019-06-12 14:40:33
|3|Connor Sheehan |testing: fix tests regressed by 2d01795bd96aA few tests were not updated with the addition of `cinnabarclone`.This commit fixes them.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3ba369fc91d0)|2019-06-10 19:30:59
|4|Connor Sheehan |ansible/ius-repo: install from most recent available repo ( [Bug 1557772](https://bugzilla.mozilla.org/show_bug.cgi?id=1557772)  ) r=globThe outdated IUS repo was identified as the source of thefailure in the attached bug. Installing from the latest fixesthe docker build issues.Differential Revision: https://phabricator.services.mozilla.com/D34239|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=af428d1296fc)|2019-06-10 14:17:00
|5|Mike Hommey |[Bug 1550183](https://bugzilla.mozilla.org/show_bug.cgi?id=1550183)  - Deploy the cinnabarclone extension to the mercurial servers. r=sheehanThe extension comes from https://github.com/glandium/git-cinnabar/blob/master/mercurial/cinnabarclone.pyand has been tested with all mercurial versions from 1.9 to 5.0.Differential Revision: https://phabricator.services.mozilla.com/D30421|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=2d01795bd96a)|2019-06-07 00:14:24
|6|Connor Sheehan |ansible: assign aliases to hosts in Ansible inventoryThis will allow us to use Ansible to run commands on specifichosts without using the IP addresses.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=8fe882f771b2)|2019-06-06 19:13:56
|7|Connor Sheehan |pushlog: send `templateutil.date` to template layer instead of raw hg date data ( [Bug 1556018](https://bugzilla.mozilla.org/show_bug.cgi?id=1556018)  ) r=larsSee the bug description for more details. This commit passes the rawMercurial date tuple into a `templateutil.date` object. This will enablethe correct behaviour when displaying the raw output of `pushdate`,and allow formatting with date template keywords and functions.The `showfmt` keyword argument.. [continue reading]( https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=25dcf375258b )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=25dcf375258b)|2019-06-06 16:52:00
|8|Connor Sheehan |pushlog: add new output to `test-pull-obsolete.t` ( [Bug 1557070](https://bugzilla.mozilla.org/show_bug.cgi?id=1557070)  ) r=globAlso mark as compatible with Mercurial 5.0Differential Revision: https://phabricator.services.mozilla.com/D33846|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0461ff7338e8)|2019-06-06 13:27:26
|9|Connor Sheehan |overlay: rename `copied` keyword argument to `copysource` under 5.0+ ( [Bug 1557070](https://bugzilla.mozilla.org/show_bug.cgi?id=1557070)  ) r=globAlso mark as compatible with Mercurial 5.0.Depends on D33846Differential Revision: https://phabricator.services.mozilla.com/D33847|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=465163f8a58a)|2019-06-06 13:27:26
|10|Connor Sheehan |hgmo: mark as compatible with Mercurial 5.0 ( [Bug 1557070](https://bugzilla.mozilla.org/show_bug.cgi?id=1557070)  ) r=globOnly a minor test change needed for passing tests. The testin question is related to wire protocol version two, whichcan arguably be removed anyways.Depends on D33847Differential Revision: https://phabricator.services.mozilla.com/D33848|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=cca19bee710d)|2019-06-06 13:27:26
|11|Connor Sheehan |hghooks: enable test compatibility under Mercurial 5.0 ( [Bug 1557070](https://bugzilla.mozilla.org/show_bug.cgi?id=1557070)  ) r=globTests are passing without any changes, with the exception ofa single test which fails due to a changed API used by a helperscript. This commit updates the helper script to use the newAPIs and marks the `hghooks` extension as compatible with5.0.Depends on D33848Differential Revision: https://phabricator.services.mozilla.com/.. [continue reading]( https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=df232910b213 )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=df232910b213)|2019-06-06 13:27:26
|12|Connor Sheehan |hgtemplates: run `test-template-sync.t` against Mercurial 5.0.1 ( [Bug 1557070](https://bugzilla.mozilla.org/show_bug.cgi?id=1557070)  ) r=globThis version should always match the version running on hg.mo,which means it needs to be bumped during the upgrade. Runningthis test should tell us if we have any outstanding templateupgrades to perform, and since it passes without issue, wedon't need to make any template changes.Depends on D33849Differential Revis.. [continue reading]( https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=4b32cf190f59 )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=4b32cf190f59)|2019-06-06 13:27:26
|13|Connor Sheehan |hg50: mark many extensions as compatible with Mercurial 5.0 ( [Bug 1557070](https://bugzilla.mozilla.org/show_bug.cgi?id=1557070)  ) r=globNo changes needed to get these extensions passing under 5.0.Depends on D33850Differential Revision: https://phabricator.services.mozilla.com/D33851|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=25a0f6ca4c3b)|2019-06-06 13:27:26
|14|Connor Sheehan |ansible/hg-ssh: upgrade to Mercurial 5.0.1 ( [Bug 1557070](https://bugzilla.mozilla.org/show_bug.cgi?id=1557070)  ) r=globThis commit upgrades Mercurial to 5.0.1 on hgssh in allvirtual environments. This commit should be deployed firstin the upgrade process.Depends on D33852Differential Revision: https://phabricator.services.mozilla.com/D33853|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=55f71016659c)|2019-06-06 13:27:26
|15|Connor Sheehan |ansible/hg-web: upgrade to Mercurial 5.0.1 ( [Bug 1557070](https://bugzilla.mozilla.org/show_bug.cgi?id=1557070)  ) r=globThis commit upgrades Mercurial to 5.0.1 in all virtual environmentson hgweb.Depends on D33853Differential Revision: https://phabricator.services.mozilla.com/D33855|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=cd14589c8543)|2019-06-06 13:27:26
|16|Connor Sheehan |hgext: remove `wireprotocache` extension ( [Bug 1557143](https://bugzilla.mozilla.org/show_bug.cgi?id=1557143)  ) r=globThis extension was to be used as a caching module for wire protocolversion two command responses, in a similar fashion to the cachinglayer used in front of remotefilelog. With the wire protocol workon hold indefinitely, we can remove this half-completed extension.Differential Revision: https://phabricator.services.mozilla.com/D33864|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=06c086758a98)|2019-06-06 13:26:21
|17|Connor Sheehan |pushlog: fix tests regressed by 8edc6d00a988Simply adds the new CSS classes to the test output,and adds a new patch file to the `hgtemplates/.patches`directory.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b03eb039bfcc)|2019-06-05 21:52:17
|18|Connor Sheehan |TICKscript: fix time unit in `try_heads.tick` ( [Bug 1556530](https://bugzilla.mozilla.org/show_bug.cgi?id=1556530)  )Also fix the variable name for the alert node.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0c3c8497e990)|2019-06-05 15:25:48
|19|Connor Sheehan |telegraf: change `1d` to `24h` ( [Bug 1555777](https://bugzilla.mozilla.org/show_bug.cgi?id=1555777)  )Telegraf supports `ns`, `us`, `ms`, `s`, `m` and `h`as units of time - no `d` allowed.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=da1cce9dc5ca)|2019-06-05 14:59:43
|20|Connor Sheehan |hgwsgi: add `mozilla-esr68` ( [Bug 1555777](https://bugzilla.mozilla.org/show_bug.cgi?id=1555777)  ) r=globThe repo was cloned and replicated earlier today, this commitmakes the repo available on hgmo.Differential Revision: https://phabricator.services.mozilla.com/D33371|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=21c2d28dc20d)|2019-06-05 13:50:34
|21|Connor Sheehan |ansible/hg-ssh: generate bundles for mozilla-esr68 ( [Bug 1555777](https://bugzilla.mozilla.org/show_bug.cgi?id=1555777)  ) r=globSo we can clone the new ESR fast in automation and elsewhere.Depends on D33371Differential Revision: https://phabricator.services.mozilla.com/D33372|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=21ad1659be41)|2019-06-05 13:50:34
|22|Connor Sheehan |ansible/hg-ssh: add esr68 to mozilla-unified ( [Bug 1555777](https://bugzilla.mozilla.org/show_bug.cgi?id=1555777)  ) r=globUnified includes all relevant commits in various Firefoxrepositories, and thus should include ESR68.Depends on D33372Differential Revision: https://phabricator.services.mozilla.com/D33373|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3c7eb39555a5)|2019-06-05 13:50:34
|23|Connor Sheehan |mozautomation: add ESR68 ( [Bug 1555777](https://bugzilla.mozilla.org/show_bug.cgi?id=1555777)  ) r=globThis commit adds ESR68 to all the required locationsin `mozautomation`.Depends on D33373Differential Revision: https://phabricator.services.mozilla.com/D33374|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=1852d1d7a0d5)|2019-06-05 13:50:34
|24|Connor Sheehan |ansible/hg-web: add esr68 to `replicationrules` and remove esr52 ( [Bug 1555777](https://bugzilla.mozilla.org/show_bug.cgi?id=1555777)  ) r=globWe will need to have a copy of ESR68 on the mirrors, and thusit need to be added to the mirror replication rules. ESR52 hasreached EOL, so it has been removed.Differential Revision: https://phabricator.services.mozilla.com/D33375|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=79d8b8bd4bd5)|2019-06-05 13:50:34
|25|Connor Sheehan |telegraf: add an `exec` plugin to report the number of heads on try ( [Bug 1556530](https://bugzilla.mozilla.org/show_bug.cgi?id=1556530)  ) r=globThis commit adds a Telegraf `exec` input plugin to monitor thenumber of heads on the try repo on hgssh. The command is a callto `hg log`, taking a call to the `revset` template function andpassing it through the `count` template filter to get the numberof revisions in the specified revset ( in this case, `head( ).. [continue reading]( https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3ae4efdfac68 )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3ae4efdfac68)|2019-06-05 13:50:05
|26|Connor Sheehan |TICKscripts: add alert for too many try heads ( [Bug 1556530](https://bugzilla.mozilla.org/show_bug.cgi?id=1556530)  ) r=globIn the previous commit we added reporting for the number ofheads on try, and in this commit we tell Kapacitor to send aSlack alert in the event we cross 40000/50000 heads ( as a warningand critical alert, respectively ). This script is checked in toversion-control-tools with the other alerting scripts for trackingpurposes but will nee.. [continue reading]( https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b793a0142828 )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b793a0142828)|2019-06-05 13:50:05
|27|Tom Prince |No bug: Show relative time for push date on `/rev/`; r=sheehanDifferential Revision: https://phabricator.services.mozilla.com/D33366|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=8edc6d00a988)|2019-06-03 16:48:07
|28|Connor Sheehan |ansible: remove `ci-{ec1,ue2}` hostgroups ( [Bug 1553885](https://bugzilla.mozilla.org/show_bug.cgi?id=1553885)  )These have been torn down.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=d12b6b56fec5)|2019-05-28 16:56:15
|29|Connor Sheehan |hghooks: update `test-prevent-webidl-changes.t` ( [Bug 1554853](https://bugzilla.mozilla.org/show_bug.cgi?id=1554853)  )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=04fd22c76ae7)|2019-05-28 14:54:00
|30|Peter Van der Beken |[Bug 1554853](https://bugzilla.mozilla.org/show_bug.cgi?id=1554853)  - Update DOM peers list in prevent_webidl_changes.py. r=sheehan?Differential Revision: https://phabricator.services.mozilla.com/D32797|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3c51465f9f92)|2019-05-28 14:48:22
|31|Connor Sheehan |terraform: tear down AWS resources in `eu-central-1` and `us-east-2` ( [Bug 1553885](https://bugzilla.mozilla.org/show_bug.cgi?id=1553885)  ) r=dustinWhile these regions have a Gecko workers VPC available,it appears there are no workers configured to run in them.In this commit we tear down the hgmo VPC in the same regions.We can easily stand up the VPCs again if we set up workers inthose regions.Differential Revision: https://phabricator.services.mozilla... [continue reading]( https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=dfdbe16c8faa )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=dfdbe16c8faa)|2019-05-27 17:48:51
|32|Connor Sheehan |TICKscripts: update alerts and add alerting for KafkaHere we add alerting for the absence of Kafka processes onour broker hosts, change the alerts to only fire on statechanges every 2 minutes, and bold some of the text in thealert message.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=d99210e8b88f)|2019-05-27 17:46:01
|33|Connor Sheehan |ansible/hg-web: add cedar project repo to `replicationrules` ( [Bug 1554307](https://bugzilla.mozilla.org/show_bug.cgi?id=1554307)  )I noticed this was missing when Kapacitor started firing offconsumer lag alerts, but only for the on-premises nodes.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=af4e16b5aa36)|2019-05-24 20:34:04
|34|Connor Sheehan |TICKscripts: alert on state changes only with 2 minute windowCurrently the TICKscript alerts continuously fire every timea new data point reaches Kapacitor. With this change the alertswill only go off once, then wait for 2 minutes before firingagain if the alert is in the same state. All state changes( ie warning -> critical or anything -> OK ) will still fire analert.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=20fc9edb1c22)|2019-05-24 20:34:04
|35|Connor Sheehan |ansible/hg-web: remove filter for sheehan's user repo ( [Bug 1553319](https://bugzilla.mozilla.org/show_bug.cgi?id=1553319)  )Left over from development/testing.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=fb153bf90ccb)|2019-05-22 15:02:49
|36|Connor Sheehan |ansible/hg-web: add Thunderbird release repos to replication filters ( [Bug 1553323](https://bugzilla.mozilla.org/show_bug.cgi?id=1553323)  )|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b85b908567bf)|2019-05-22 15:02:49
|37|Connor Sheehan |TICKscripts: increase thresholds in `vcsreplicator_consumer_lag.tick`The Slack alerts were happening too frequently to be actionable.Here we increase the thresholds to a level high enough that analert should require action.|[URL](https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0a3096a899ce)|2019-05-17 14:51:23
