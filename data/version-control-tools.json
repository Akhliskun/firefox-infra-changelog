{
  "0": {
    "last_push_id": 3558
  },
  "1": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-08-07T15:45:12.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=307f3c286876",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: set Lando required list to correct values (Bug 1572128)\n\nI updated this manually during testing, then forgot to update\nit after. This lead to the correct value being overridden during\nthe following deploy.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "2": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-08-07T14:25:16.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=01ef6e45d821",
        "commit_author": "Victor Porof <vporof@mozilla.com>",
        "commit_message": "Bug 1572072 - Disable the `format-source` extension since it served it's purpose for Prettier, r=sheehan\n\nDifferential Revision: https://phabricator.services.mozilla.com/D40998",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "3": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-08-01T22:03:49.000000",
    "changeset_commits": {
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=9efa8e908c25",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgext: mark client-side extensions as compatible with Mercurial 5.1 (Bug 1569741)\n\nNo changes needed for passing tests in any of these extensions.",
        "files_changed": "This commit contains 8 files changed."
      }
    }
  },
  "4": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-08-01T21:23:15.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=61c65ae8b33b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "configwizard: fix `test-format-source.t` output (Bug 1568925)\n\nLess painful for me to update the test.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "5": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-08-01T20:30:35.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=99dca4809de4",
        "commit_author": "Daniel Holbert <dholbert@cs.stanford.edu>",
        "commit_message": "Bug 1568925: hgext: Add a newline between 'format-source' descriptive text and yes/no prompt. r=sheehan\n\nDifferential Revision: https://phabricator.services.mozilla.com/D40289",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "6": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-08-01T15:26:51.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=1d53e657414f",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: remove extension-loaded `reviewboard` path (Bug 1569734) r=smacleod\n\nThis is obviously not needed, and slightly dangerous.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D40079",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "7": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-31T21:22:35.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=af0808f68d64",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: use new `templatekeyword` API everywhere (Bug 1528938) r=smacleod\n\nSince 4.9 has been released, our 4 official supported Mercurial\nversions are now 4.6-4.9. This allows us to switch off the old\ntemplatekeyword decorator API.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39945",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=68c646986378",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: remove the `hg cloneunified` command (Bug 1569734) r=smacleod\n\nIf you want to `cloneunified` these days, you clone\nmozilla-unified.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39947",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=ed5808efbfc7",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: remove `hg prunerelbranches` command (Bug 1569734) r=smacleod\n\nUse the `firefoxtree` extension and the `fxheads` command,\nand this problem goes away. The solution is much simpler,\ntoo.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39948",
        "files_changed": "This commit contains 2 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=ae1aa880be83",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: remove template keywords related to `aurora` repository (Bug 1569734) r=smacleod\n\n\"Aurora\" is no longer one of the trains, so we don't need this\ntemplate keyword.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39949",
        "files_changed": "This commit contains 1 files changed."
      },
      "5": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=39ec9297f750",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: mark as compatible with Mercurial 5.0 (Bug 1569734) r=smacleod\n\nAll these changes get tests passing under Mercurial 5.0.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39950",
        "files_changed": "This commit contains 1 files changed."
      },
      "6": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=a8e3d70807b0",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: use extension wrapper mechanism for `hg._peerorrepo` (Bug 1569734) r=smacleod\n\nPrevious we did a manual override of this object, which was\ncausing tracebacks on my machine. Using the extension function\nwrapping utility gets rid of the issue.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39951",
        "files_changed": "This commit contains 1 files changed."
      },
      "7": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=790b45463fd4",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: remove `bz_available` global variable (Bug 1569734) r=smacleod\n\nIt is unused at the moment.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39952",
        "files_changed": "This commit contains 1 files changed."
      },
      "8": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=4ed18e15bb10",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: add `hg oops` command from `qbackout` (Bug 1565933) r=smacleod\n\nIn changeset b3a88dcabb6cccf0 we removed the `mq` related extensions\nstill checked in to version-control-tools. It turns out that the\n`qbackout` extension has a command `hg oops` which is not dependent\non `mq` and is used heavily in the sheriffing workflow. This commit\nmoves the extension into `mozext` to keep it alive for the sheriffs.\n\nMinimal changes have been made from the version in `qbackout`, and\nthe test is completely unmodified.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39953",
        "files_changed": "This commit contains 2 files changed."
      },
      "9": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=c3b65e6e8bfb",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: flatten `extsetup` (Bug 1569734) r=smacleod\n\nRather than initialize many of the template utilities\nin a conditional block, have the conditional perform\nan early return and keep everything at the top level.\n\nAlso avoid the double lookup on `disable_local_database`.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39954",
        "files_changed": "This commit contains 1 files changed."
      },
      "10": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=4851a84dfe4d",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: unify into a single test and improve coverage (Bug 1569734) r=smacleod\n\nThe test coverage for `mozext` was quite lacking, and contributed\nto a lot of the bit rot in the last few months. In this commit I\ncreate a single unified test that covers most of the added template\nkeywords, revset predicates and commands.\n\nSince we rely on the `pushlog` extension to enable several features,\nwe pin the Mercurial used in `hg serve` to a known-compatible version.\n\nChanging this test and pinning the version of `hg` used to serve the\npushlog allow us to remove the test from the flaky test list.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39955",
        "files_changed": "This commit contains 5 files changed."
      },
      "11": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=28b74bc3450b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: remove `hg pushlogsync` (Bug 1569734) r=smacleod\n\nRunning `hg pull` will sync the correct pushlog. Similar to\n`hg cloneunified`, this command was created in a time before\nwe had a unified repo and unified pushlog on hg.mo.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39956",
        "files_changed": "This commit contains 1 files changed."
      },
      "12": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3e1c648aeb62",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: remove `hg mybookmarks` (Bug 1569734) r=smacleod\n\nUsually the bookmarks in a repo are either the users own, or\nreferences to the various tree heads (central, inbound, etc).\nIf the user is using `firefoxtree`, they won't see the fxheads\nbookmarks in `hg bookmarks` or `hg show bookmarks` output. So\nthis solution is older and can be removed.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39957",
        "files_changed": "This commit contains 1 files changed."
      },
      "13": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=e8bf67866f28",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: remove `hg moztrees` (Bug 1569734) r=smacleod\n\nAt this point it prints out so much information about so\nmany dead trees that it can't possbly be useful. Using\nthe `firefoxtree` extension is highly preferred, where\nthere is a `fxheads` command to see the state of various\ntrees.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39958",
        "files_changed": "This commit contains 1 files changed."
      },
      "14": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0e60a3fd0541",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: clarify some changes in the docstring (Bug 1569734) r=smacleod\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39959",
        "files_changed": "This commit contains 1 files changed."
      },
      "15": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=5e857d4f3091",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozext: miscellaneous fixes (Bug 1569734) r=smacleod\n\nUse `util.safehasattr` and switch off a dynamic default\n(this was throwing a devel-warn in testing).\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39960",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "8": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-31T14:17:29.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6a55c267116a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hgmo: wrap IRC notification in rescue block\n\nThe IRC notification constantly fails due to the deploy\nbot being unable to join #vcs. Wrap the notification\nin a rescue block, so failures are handled gracefully.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "9": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-30T14:02:50.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=2d18b6a1ec9d",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks/lando_required: capture head commit hash instead of base (Bug 1569611) r=smacleod\n\nAlso set the full URL to the revision with the magic words as\nextra data in Sentry.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39690",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "10": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-29T18:27:24.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=12b76c16ff10",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: remove `test-privileged-push.t`\n\nFor some reason both `test-privileged-push.t` and `test-lando-required.t`\nexist in the repo at the same time. Searching my history I can see I ran\n`hg mv` to rename the file. So I'm not sure what happened here.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "11": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-25T20:19:57.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0d68b0deeca2",
        "commit_author": "Marco Castelluccio <mcastelluccio@mozilla.com>",
        "commit_message": "Bug 1568878 - Don't try to parse bug IDs aggressively when the source repo is github. r=sheehan\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39358",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "12": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-25T18:03:19.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=348072c0e391",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks/lando_required: don't alert for `scm_allow_direct_push` pushes (Bug 1568927) r=smacleod\n\nNot doing so causes notifications for Lando landings.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39394",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "13": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-25T17:38:43.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=e1d74189a807",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "readonly: add byte string prefixes (Bug 1563138) r=glob\n\nDifferential Revision: https://phabricator.services.mozilla.com/D37822",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "14": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-25T16:57:06.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=24c9618eed4a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ldap: perform lookup to map email to LDAP DN (Bug 1568853) r=smacleod\n\nPreviously we created the DN using a format string, however this\nwill only be correct when looking up real Mozilla employee entries.\nLooking up other entities (namely, bots) causes no groups to be\nreturned. This commit adds an extra LDAP lookup to map the email\nto the correct DN, which should cause the correct behaviour in\nboth cases.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39376",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "15": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-25T00:43:24.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=08f71d165162",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "TICKscripts: compare threshold against absolute value of measurement\n\nIf the value of the message lag is sufficiently negative,\nthere's probably something worth investigating. We saw this\nwith bug 1567946, where the Kafka consumers were reporting\nbeing far behind their expected position. Compare the\nthreshold against the absolute value of the measurement\nand we should pick up weird edge cases like this in the\nfuture.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "16": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-24T16:44:17.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=273828b4d8d7",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks/lando_required: disable demandimporter when importing Sentry SDK (Bug 1515119) r=glob\n\nWhen testing the Lando required hook, I noticed that I was\nable to send notifications from the pash virtualenv on\nhgssh1 using the Python REPL, but could not get the message\nthrough to Sentry when performing a push. After some testing\nI discovered the Sentry SDK does not like Mercurial's\ndemandimporter. This commit disables the importer during the\nSentry SDK import.\n\nWe also move the import into the logging function. This\nis both for performance, and to avoid an `ImportError`\nin the `unifyrepo` process, which does not have the\nSentry SDK installed and fails when attempting to import\nthe SDK without demandimport.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39071",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=dbfd6ddc0525",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks/lando_required: refer to most recent topological commit as \"head\" (Bug 1515119) r=glob\n\nUsing the term \"top\" is confusing, since it could refer to either\nthe commit at the \"base\" of the stack, or the \"tip\" of the stack.\nMany VCS' use \"head\" to refer to a commit with no children,\nso this commit changes the Lando required hook to use the less\nambiguous term.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39072",
        "files_changed": "This commit contains 3 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6cce06c04c63",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks/lando_required: avoid double read of Sentry DSN (Bug 1515119) r=glob\n\nThis is a micro-optimization, but worth doing if we're updating\nthe hook anyways. We can also make the logging funcion slightly\nflatter with this change.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39073",
        "files_changed": "This commit contains 1 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=2a8976cf424a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks/lando_required: add more context to Sentry notifications (Bug 1515119) r=glob\n\nThis commit adds more context to the Sentry event messages.\n\nThe core message that is displayed in Slack is extended to add\nthe \"justification\" for using a manual push, and some unnecesary\ncruft is removed. The two unique message formats (one for each\nacceptable scm level) are consolidated into a single message\nwith the scm level as a parameter. As part of this change,\n`changeset_has_justification` is renamed and changed from a\nboolean check into a function which returns a value or `None`.\n\nThe Sentry APIs are used more extensively, adding user metadata\nas well as some \"tags\" and extra pieces of information. This\nwill make organizing events by different parameters easier in\nSentry. For example, determining which repo is used most\nfrequently for direct pushes, which user is pushing directly\nmost often, etc.\n\nSince users with `scm_allow_allow_direct_push` do not need to\nprovide justification for their pushes, a default string is\ninserted in place of the justification.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D39209",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "17": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-23T14:42:45.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3aac07d797c6",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: track correct hosts in `pushdataaggregator_groups` file (Bug 1549602)\n\nThese hosts were renamed locally, which caused the Kafka\nconsumer group name to change once Ansible was run on them.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "18": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-22T14:32:25.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=83cdb0bd4dcf",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh-server: change `scm_allow_direct_push` gid to 692 (Bug 1515119) r=glob\n\n`2500` was selected as the `gid` for the new scm group\ncompletely at random. Turns out, that value is important\nand will block the deploy during creation since it doesn't\nmatch the value on the hgssh servers.\n\nThis commit changes the value to 692, which should fix\nthe deploy blocker. This is untested but is harmless in\nthe event it doesn't work as we want it to.",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "19": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-19T15:42:20.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=f165a1d49900",
        "commit_author": "K Lars Lohn <lars@mozilla.com>",
        "commit_message": "mozhghooks: block pushes to mozilla-central without intentional action (Bug 1515119) r=sheehan\n\nThis hghook will vet pushes to mozilla-central and only allow\nPushes under these conditions:\n1 - the user has SCM_ALLOW_DIRECT_PUSH\n2 - without SCM_ALLOW_DIRECT_PUSH, the tip commit message contains\nspecific magic words followed by a justification\n\nThe code is written using the \"Check\" method of writing a hook.\n\nI chose the magic words \"PRIVILEGED PUSH:\" with the colon at the end to\ncoax the user into understanding that more than just the magic words are\nrequired for a successful push.\n\nThe Python code has been styled using the uncompromising 'black'.\n\nThe unit tests isolate every member method.  Care has been taken to cover\nevery line of the source and all normal method exit paths.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D32505",
        "files_changed": "This commit contains 14 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6778c5c94612",
        "commit_author": "K Lars Lohn <lars@mozilla.com>",
        "commit_message": "hg-ssh-server: ldap changes for new scm group (Bug 1515119) r=sheehan\n\nAdds a new scm group called `scm_allow_direct_push`.  This intended for\nthe new PrivilegedPushCheck that will force holders of `scm_level_3` to use\nLando instead of pushing directly.  Holders of `scm_allow_direct_push` will\nbe allowed to push without justification.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33981",
        "files_changed": "This commit contains 6 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3fb3265831d7",
        "commit_author": "K Lars Lohn <lars@mozilla.com>",
        "commit_message": "mozhghooks: integration test for PrivilegedPushCheck (Bug 1515119) r=sheehan\n\nThis new integration tests tries the new PrivilegedPushCheck by exercising each\nof the combinations of `scm_level_3` and `scm_allow_direct_push` with various\ncommit messages.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33980",
        "files_changed": "This commit contains 1 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=7afaa8a8e1cc",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: rename privileged push check and change magic words (Bug 1515119) r=glob\n\nAfter consulting with some engineers from other groups, it was\npointed out that the real intent of the magic words and message\nis to have the pushing user provide their reason for not using\nLando. The \"privileges\" required for this are not as important\nas having the user acknowledge they are going outside the\nrequired process, and providing their reason for doing so.\n\nThis commit changes the name of the check and most terminology\nto \"Lando Required Check\". The true technical details of this\ncheck are to enforce landings via Lando for a set of repositories,\nand create a process for circumventing the Lando requirement.\nIf the user wishes to go around the automated landing process,\nthey must specify they are pushing \"manually\", and thus the\nmagic words have been changed to indicate they should be used\nfor that purpose.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38349",
        "files_changed": "This commit contains 7 files changed."
      },
      "5": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=a4f50f7a9240",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: move hard-coded string constants to top level (Bug 1515119) r=glob\n\nThese strings are not required to be class-level constant variables,\nand their presence within the check class has no functional value.\nLeaving them in the class requires prefixing `self.` to each use\nof the variable. This commit moves all the variables to the top\nlevel and removes many uses of `self`.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38350",
        "files_changed": "This commit contains 1 files changed."
      },
      "6": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=be31a1fbd411",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: use `==` for string comparisons (Bug 1515119) r=glob\n\nThis probably wouldn't have caused any issues in practice,\nbut it's considered more correct to check the strings are\nequal in value, not identical objects.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38486",
        "files_changed": "This commit contains 1 files changed."
      },
      "7": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=de20439d0889",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: use same license header as other checks (Bug 1515119) r=glob\n\n`manual_push.py` has a more verbose license header than other\nchecks in the same directory.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38351",
        "files_changed": "This commit contains 1 files changed."
      },
      "8": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=61e67e3f5010",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: remove unused import (Bug 1515119) r=glob\n\nPreviously this was added to define configuration in the\ncheck file itself, but it was moved to a different file.\nWe also change the import style to multi-line.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38352",
        "files_changed": "This commit contains 1 files changed."
      },
      "9": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=17c064383157",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: flatten `ManualPushCheck.check` (Bug 1515119) r=glob\n\nThe `check` step in the manual push hook included several\nnested `if` statements. This commit flattens the function\nwhile ensuring the same output, increasing readability.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38353",
        "files_changed": "This commit contains 1 files changed."
      },
      "10": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=7acd1ddd0b66",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: move static methods outside class (Bug 1515119) r=glob\n\nSeveral methods in `ManualPushCheck` are static and can be moved\noutside the class definition.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38354",
        "files_changed": "This commit contains 1 files changed."
      },
      "11": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=7bc74db2d5fe",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: do not fail when `lando_required_repo_list` config is absent (Bug 1515119) r=glob\n\nWhen changing the name of the \"privileged push\" hook, I forgot\nto update the `docker-hg-ssh` role to modify the correct Ansible\nvariable in testing. As a result, the variable was missing from\nthe config altogether and many tests were failing. This is because\nwe were not checking the return value of `ui.config` before attempting\nto call `.split()` on it. This commit adds logic to assert the\nconfig value is usable before creating the list of repos.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38355",
        "files_changed": "This commit contains 1 files changed."
      },
      "12": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=5b46ec42ff31",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: fix unit test for lando required check (Bug 1515119) r=glob\n\nMostly just moving variables to their new locations and removing\na few mock `Check` objects that are no longer needed.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38356",
        "files_changed": "This commit contains 1 files changed."
      },
      "13": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=25c9bed28326",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: set `lando_required_repo_list` to my user repo for testing (Bug 1515119) r=glob\n\nLet's only enable the hook on my user repo, so I can test\nthe LDAP integration in production.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D38357",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "20": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-12T01:25:29.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=1e55b3601d0a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "readonly: print `hg serve` error log at end of test\n\nWhen something fails inside the `hg serve` process,\nthis will cause it to be printed out in the test.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "21": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-09T14:21:11.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=a1c86717d010",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgext: remove `checkpystyle` extension (Bug 1550748) r=glob\n\nRemoving this extension as it has not been updated since Mercurial\n4.2 was released, it is not installed in configwizard and it is\nnot recommended for use.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36206",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b3a88dcabb6c",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgext: remove mq related extensions (Bug 1550748, Bug 1543544) r=glob\n\nCore `mq` has been deprecated for ages, so our helper\nextensions should also be deprecated. This commit removes\nthe `mq` related extensions from version-control-tools.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36207",
        "files_changed": "This commit contains 13 files changed."
      }
    }
  },
  "22": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-05T13:51:02.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=9c394218cddb",
        "commit_author": "Victor Porof <vporof@mozilla.com>",
        "commit_message": "Bug 1556328 - hgext: Re-enable format-source, r=andi\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33461",
        "files_changed": "This commit contains 2 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=57ff6e1a400b",
        "commit_author": "Victor Porof <vporof@mozilla.com>",
        "commit_message": "Bug 1556393 - hgext: Enable Prettier when running format-source, r=sheehan,andi\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33491",
        "files_changed": "This commit contains 3 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=87bdc08bdd98",
        "commit_author": "Victor Porof <vporof@mozilla.com>",
        "commit_message": "Bug 1563182 - hgext: Add a new hg extension to run js-format at the commit step, r=andi\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36732",
        "files_changed": "This commit contains 3 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=ad487e509679",
        "commit_author": "Victor Porof <vporof@mozilla.com>",
        "commit_message": "Bug 1563182 - hgext: Add js-format to the bootstrap process, r=andi\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36731",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "23": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-04T17:54:36.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0faaa3ff617b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgmo: remove wire protocol v2 hacks (Bug 1550748) r=smacleod\n\nAfter landing much of the wire protocol v2 work upstream, we\nstarted finding lots of bugs and patching over them in v-c-t,\nwith the intent of finding more issues and fix them upstream\nafter some experimentation. Since there are no plans to continue\nworking on this for the time being, I'm removing it, as well as\nsome of the related tests.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36701",
        "files_changed": "This commit contains 4 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=666175041b7e",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozhg: call new version of `memctx` constructor in other code branch (Bug 1546508) r=smacleod\n\nMissed this the first time around.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36702",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=462e9d604451",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgtemplates: allow passing a path `hg` executable to `mozify-templates.py` (Bug 1541166) r=smacleod\n\nIn a later commit, I will upgrade our copy of the Mercurial test\nharness for Python 3 compatibility. In doing so, the template\nsync test fails as `mozify-templates` no longer uses the version\nof `hg` in the test - instead finding the system `hg` and using that.\nSince my version is 4.5.3 on the server and I am typically running\ntests against 5.0.1 these days, the tests fail as 4.5.3 does not have\nthe `sparse-revlog` repository requirement.\n\nThis commit adds the ability to specify a specific version of hg\nfor use in the script, by passing a path in an environment variable.\nIt's a quick hack to make things work - we should probably add some\noption parsing to `mozify-templates.py` at some point, at which time\nwe can convert the environment variable to an option.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36703",
        "files_changed": "This commit contains 2 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=70824652e748",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "testing: remove all unnecessary `hghave` files (Bug 1562960) r=smacleod\n\nRather than having many `hghave` files, each of which is aware of\nit's location in the tree, and can find the well-known `hghave.py`\nfile in `testing/`, this commit teaches the slightly modified\n`run-tests.py` from upstream Mercurial about the location of our\ncustom `hghave` script. As part of this change, `testing/hghave.py`\nneeds to be made executable.\n\nIt's not pretty, but it's better than the current state, and it\nfixes some bugs I found when updating the upstream `run-tests.py`.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36704",
        "files_changed": "This commit contains 18 files changed."
      },
      "5": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6e0af7e5a70f",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "testing: update Mercurial support libraries (Bug 1541166) r=smacleod\n\nThese libraries have added more support for Python 3\ncompatibility under the new versions.\n\nIt turns out we have made some modifications to\n`run-tests.py` that are documented in the commit\nmessage for 85483f1cae73e27. I have added tracker\ncomments for these changes so they will be easier\nto spot and preserve in future updates.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36705",
        "files_changed": "This commit contains 5 files changed."
      },
      "6": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=7ede0a306189",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozhg: add byte string prefixes everywhere (Bug 1563138) r=smacleod\n\nByte-string prefixes will be needed almost everywhere in\nversion-control-tools. Here we update `mozhg` for Python 3\ncompatibility.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36706",
        "files_changed": "This commit contains 4 files changed."
      },
      "7": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=79a28ff70ead",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "py3: use `pycompat.getargspec` everywhere (Bug 1541166) r=smacleod\n\n`inspect.getargspec` has changed under Python 3, and there is a helper\nvariable in `mercurial.pycompat` that papers over the differences.\nThis commit switches all instances in version-control-tools to use\n`pycompat.getargspec`. We don't bother changing the single occurance\nin `pylib/pycodestyle` since that is third party and will likely be\nremoved in the near future.\n\nSince the `pycompat.getargspec` helper was introduced in Mercurial\n4.6, we bump the `minimumhgversion` string to require at least\nthat version in both `firefoxtree` and `push-to-try`.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36707",
        "files_changed": "This commit contains 3 files changed."
      },
      "8": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=fbe004e04405",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "push-to-try: add byte string prefixes (Bug 1563138) r=smacleod\n\nThis commit adds byte-string prefixes to all necessary strings\nin the `push-to-try` extension.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36708",
        "files_changed": "This commit contains 1 files changed."
      },
      "9": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=dcc3ad8eab7c",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "push-to-try: print generic message about JSON decode error (Bug 1541166) r=smacleod\n\nGetting the error message from within the `ValueError` or\n`JSONDecodeError` will require different methods on Python\n2 and 3, and will produce different outputs on each version\nwhen using  a solution that is compatible with both versions (thus\nrequiring a different output in the test). Instead, let's\njust print a generic message about JSON decoding issues,\nand let the user investigate further if their `try_task_config.json`\nfile is malformed (in many cases I don't find the error messages\nuseful anyways).\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36709",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "24": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-04T17:48:11.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=9632eb71aad5",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: remove obsolete repositories from `bundle-repos` (Bug 1563015) r=smacleod\n\nMany of the repos in this list haven't had a new changeset introduced\nin quite some time, and are unused. No need to generate clone bundles\nevery evening and upload them to multiple S3 buckets.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36659",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "25": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-04T17:19:44.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=a98a675f7ba9",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgwsgi: add `comm-esr68` (Bug 1561934) r=smacleod\n\nThe repo is already cloned on-disk, this will make it available\nover http.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36655",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=e1f492423b17",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozautomation: add `comm-esr68` (Bug 1561934) r=smacleod\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36656",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=9a457bdd76d2",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-web: add `comm-esr68` to replicationrules (Bug 1561934) r=smacleod\n\nThis will make the hgweb mirrors in AWS take action on events\nfor the new repo. The rule has already been manually set on\nthe mirrors to allow the initial clone to replicate.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D36657",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "26": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-07-03T15:01:12.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=33ffdacec969",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "docs: remove references to SCL3 (Bug 1563223)\n\nInstead reference MDC1 hosts.",
        "files_changed": "This commit contains 3 files changed."
      }
    }
  },
  "27": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-27T13:12:16.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=842df4a82218",
        "commit_author": "Julien Cristau <jcristau@mozilla.com>",
        "commit_message": "mozext: add backsoutnodes template keyword (bug 1560446) r=sheehan\n\nThis is using the old API and needs to be ported to hg 5.1, but then so\ndo the other template keywords in mozext.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D35774",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "28": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-20T17:43:03.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=5f7820c03795",
        "commit_author": "Rob Lemley <rob@thunderbird.net>",
        "commit_message": "push-to-try: check for valid try_task_config.json file. r=sheehan\n\nWhen using a try_task_config.json file on a try push, try to parse it first\nto prevent failures.\n\nI added this based on personal experience using this feature. I usually forget\nto check first and then the push fails.\n\nNo attempt it made to ensure the file is valid beyond ensuring it is valid\nJSON that can be loaded by Python's \"json\" stdlib module.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D35193",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "29": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-20T17:19:51.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=da6b5e733005",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: remove `git` dependency and retrieve `cinnabarclone.py` using `get_url` (Bug 1558868) r=glob\n\nInstalling `git` on the hg hosts in MDC1 fails due to a custom YUM repo\nadded by the RelOps/IT teams. Instead of blocking the deployment of\ncinnabarclone on hgmo as a result of this bug, let's pull down a specific\nversion of `cinnabarclone` using `get_url`, and deploy that.\n\nWe make the download of the extension conditional on a different checksum\nfor the file in question. This will avoid re-downloads when the file already\nexists on-disk with the specified checksum.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D35288",
        "files_changed": "This commit contains 3 files changed."
      }
    }
  },
  "30": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-13T15:00:50.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b53f77f17586",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "format-source: enable compatibility with Mercurial 5.0 (Bug 1545236) r=andi\n\nformat-source was never made compatible with Mercurial 5.0, since\nthe extension was disabled on Firefox developer machines. Now\nthat we plan to use the extension for a JavaScript reformat using\n`prettier`, the extension will need to be compatible with newer\nversions of Mercurial.\n\nIn this commit we apply compatibility patches from upstream\n`format-source`[0] to enable 5.0 compatibility, with some\nmodifications. Rather than perform a stack inspection to check\nfor the correct function signature to use, we look at the version\nof Mercurial being run and call `cmdutil.add` with the correct\nsignature for each version. We also define a single function\nwith a conditional inside instead of a global conditional with\ntwo separate function definitions.\n\n--\n[0] https://bitbucket.org/octobus/format-source/commits/e526ce24a5e874c2174c5fc6abda7c7163a18e26\n\nDifferential Revision: https://phabricator.services.mozilla.com/D34884",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "31": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-12T14:40:33.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6b4c5f3ae719",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "py3: global replace `iteritems()` with `items()` (Bug 1541166) r=lars\n\n`iteritems()` doesn't exist in Py3, with `items()` instead returning\na generator by default. This commit switches all instances of the\nold `iteritems` method with `items`. In all cases except one, we\nwere evaluating the full list of items regardless of the generator\nbased function call, and the instance where we were only returned\na small number of items, so I don't expect any performance hit here\nwhile we are still on Python 2.\n\nThe same operation has been performed for `iterkeys()` and `keys()`,\nbut only a single instance was found and is included in this commit.\n\nThere are still some instances of `iteritems` in the repo, in the\n`third_party` directory of vendored libraries. These will be handled\nin bug 1557783.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D34193",
        "files_changed": "This commit contains 10 files changed."
      }
    }
  },
  "32": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-10T19:30:59.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3ba369fc91d0",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "testing: fix tests regressed by 2d01795bd96a\n\nA few tests were not updated with the addition of `cinnabarclone`.\nThis commit fixes them.",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "33": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-10T14:17:00.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=af428d1296fc",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/ius-repo: install from most recent available repo (Bug 1557772) r=glob\n\nThe outdated IUS repo was identified as the source of the\nfailure in the attached bug. Installing from the latest fixes\nthe docker build issues.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D34239",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "34": {
    "pusher": "mh@glandium.org",
    "date_of_push": "2019-06-07T00:14:24.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=2d01795bd96a",
        "commit_author": "Mike Hommey <mh@glandium.org>",
        "commit_message": "Bug 1550183 - Deploy the cinnabarclone extension to the mercurial servers. r=sheehan\n\nThe extension comes from https://github.com/glandium/git-cinnabar/blob/master/mercurial/cinnabarclone.py\nand has been tested with all mercurial versions from 1.9 to 5.0.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30421",
        "files_changed": "This commit contains 6 files changed."
      }
    }
  },
  "35": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-06T19:13:56.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=8fe882f771b2",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: assign aliases to hosts in Ansible inventory\n\nThis will allow us to use Ansible to run commands on specific\nhosts without using the IP addresses.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "36": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-06T16:52:00.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=25dcf375258b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "pushlog: send `templateutil.date` to template layer instead of raw hg date data (Bug 1556018) r=lars\n\nSee the bug description for more details. This commit passes the raw\nMercurial date tuple into a `templateutil.date` object. This will enable\nthe correct behaviour when displaying the raw output of `pushdate`,\nand allow formatting with date template keywords and functions.\n\nThe `showfmt` keyword argument is taken verbatim from the default\n`date` template keyword[0].\n\n[0] https://www.mercurial-scm.org/repo/hg-committed/file/bfd65b5e070b/mercurial/templatekw.py#l225\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33309",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "37": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-06T13:27:26.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0461ff7338e8",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "pushlog: add new output to `test-pull-obsolete.t` (Bug 1557070) r=glob\n\nAlso mark as compatible with Mercurial 5.0\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33846",
        "files_changed": "This commit contains 3 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=465163f8a58a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "overlay: rename `copied` keyword argument to `copysource` under 5.0+ (Bug 1557070) r=glob\n\nAlso mark as compatible with Mercurial 5.0.\n\nDepends on D33846\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33847",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=cca19bee710d",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgmo: mark as compatible with Mercurial 5.0 (Bug 1557070) r=glob\n\nOnly a minor test change needed for passing tests. The test\nin question is related to wire protocol version two, which\ncan arguably be removed anyways.\n\nDepends on D33847\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33848",
        "files_changed": "This commit contains 2 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=df232910b213",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: enable test compatibility under Mercurial 5.0 (Bug 1557070) r=glob\n\nTests are passing without any changes, with the exception of\na single test which fails due to a changed API used by a helper\nscript. This commit updates the helper script to use the new\nAPIs and marks the `hghooks` extension as compatible with\n5.0.\n\nDepends on D33848\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33849",
        "files_changed": "This commit contains 2 files changed."
      },
      "5": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=4b32cf190f59",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgtemplates: run `test-template-sync.t` against Mercurial 5.0.1 (Bug 1557070) r=glob\n\nThis version should always match the version running on hg.mo,\nwhich means it needs to be bumped during the upgrade. Running\nthis test should tell us if we have any outstanding template\nupgrades to perform, and since it passes without issue, we\ndon't need to make any template changes.\n\nDepends on D33849\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33850",
        "files_changed": "This commit contains 1 files changed."
      },
      "6": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=25a0f6ca4c3b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hg50: mark many extensions as compatible with Mercurial 5.0 (Bug 1557070) r=glob\n\nNo changes needed to get these extensions passing under 5.0.\n\nDepends on D33850\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33851",
        "files_changed": "This commit contains 7 files changed."
      },
      "8": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=55f71016659c",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: upgrade to Mercurial 5.0.1 (Bug 1557070) r=glob\n\nThis commit upgrades Mercurial to 5.0.1 on hgssh in all\nvirtual environments. This commit should be deployed first\nin the upgrade process.\n\nDepends on D33852\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33853",
        "files_changed": "This commit contains 6 files changed."
      },
      "9": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=cd14589c8543",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-web: upgrade to Mercurial 5.0.1 (Bug 1557070) r=glob\n\nThis commit upgrades Mercurial to 5.0.1 in all virtual environments\non hgweb.\n\nDepends on D33853\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33855",
        "files_changed": "This commit contains 6 files changed."
      }
    }
  },
  "38": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-06T13:26:21.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=06c086758a98",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgext: remove `wireprotocache` extension (Bug 1557143) r=glob\n\nThis extension was to be used as a caching module for wire protocol\nversion two command responses, in a similar fashion to the caching\nlayer used in front of remotefilelog. With the wire protocol work\non hold indefinitely, we can remove this half-completed extension.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33864",
        "files_changed": "This commit contains 10 files changed."
      }
    }
  },
  "39": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-05T21:52:17.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b03eb039bfcc",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "pushlog: fix tests regressed by 8edc6d00a988\n\nSimply adds the new CSS classes to the test output,\nand adds a new patch file to the `hgtemplates/.patches`\ndirectory.",
        "files_changed": "This commit contains 4 files changed."
      }
    }
  },
  "40": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-05T15:25:48.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0c3c8497e990",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "TICKscript: fix time unit in `try_heads.tick` (Bug 1556530)\n\nAlso fix the variable name for the alert node.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "41": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-05T14:59:43.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=da1cce9dc5ca",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "telegraf: change `1d` to `24h` (Bug 1555777)\n\nTelegraf supports `ns`, `us`, `ms`, `s`, `m` and `h`\nas units of time - no `d` allowed.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "42": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-05T13:50:34.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=21c2d28dc20d",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgwsgi: add `mozilla-esr68` (Bug 1555777) r=glob\n\nThe repo was cloned and replicated earlier today, this commit\nmakes the repo available on hgmo.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33371",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=21ad1659be41",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: generate bundles for mozilla-esr68 (Bug 1555777) r=glob\n\nSo we can clone the new ESR fast in automation and elsewhere.\n\nDepends on D33371\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33372",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3c7eb39555a5",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: add esr68 to mozilla-unified (Bug 1555777) r=glob\n\nUnified includes all relevant commits in various Firefox\nrepositories, and thus should include ESR68.\n\nDepends on D33372\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33373",
        "files_changed": "This commit contains 1 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=1852d1d7a0d5",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozautomation: add ESR68 (Bug 1555777) r=glob\n\nThis commit adds ESR68 to all the required locations\nin `mozautomation`.\n\nDepends on D33373\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33374",
        "files_changed": "This commit contains 1 files changed."
      },
      "5": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=79d8b8bd4bd5",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-web: add esr68 to `replicationrules` and remove esr52 (Bug 1555777) r=glob\n\nWe will need to have a copy of ESR68 on the mirrors, and thus\nit need to be added to the mirror replication rules. ESR52 has\nreached EOL, so it has been removed.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33375",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "43": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-05T13:50:05.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3ae4efdfac68",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "telegraf: add an `exec` plugin to report the number of heads on try (Bug 1556530) r=glob\n\nThis commit adds a Telegraf `exec` input plugin to monitor the\nnumber of heads on the try repo on hgssh. The command is a call\nto `hg log`, taking a call to the `revset` template function and\npassing it through the `count` template filter to get the number\nof revisions in the specified revset (in this case, `head()`).\nThe data is sent as a single integer to InfluxDB and a follow\nup commit will introduce a TICKscript to send alerts when the\nnumber of heads grows too high.\n\nDespite using the `head()` revset from within the template for\nthe command, we specify `-r 0` as the revset for the log command.\nMercurial's templater applies the given template to each revision\nin the specified revset, and since we only want to run the revset\na single time and then count the number off revisions, we specify\na single revision in the `-r` argument.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33551",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b793a0142828",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "TICKscripts: add alert for too many try heads (Bug 1556530) r=glob\n\nIn the previous commit we added reporting for the number of\nheads on try, and in this commit we tell Kapacitor to send a\nSlack alert in the event we cross 40000/50000 heads (as a warning\nand critical alert, respectively). This script is checked in to\nversion-control-tools with the other alerting scripts for tracking\npurposes but will need to be manually added to Kapacitor through\nChronograf once the previous commit is deployed.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33552",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "44": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-06-03T16:48:07.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=8edc6d00a988",
        "commit_author": "Tom Prince <mozilla@hocat.ca>",
        "commit_message": "No bug: Show relative time for push date on `/rev/`; r=sheehan\n\nDifferential Revision: https://phabricator.services.mozilla.com/D33366",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "45": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-28T16:56:15.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=d12b6b56fec5",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: remove `ci-{ec1,ue2}` hostgroups (Bug 1553885)\n\nThese have been torn down.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "46": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-28T14:54:00.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=04fd22c76ae7",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hghooks: update `test-prevent-webidl-changes.t` (Bug 1554853)",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "47": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-28T14:48:22.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3c51465f9f92",
        "commit_author": "Peter Van der Beken <peterv@propagandism.org>",
        "commit_message": "Bug 1554853 - Update DOM peers list in prevent_webidl_changes.py. r=sheehan?\n\nDifferential Revision: https://phabricator.services.mozilla.com/D32797",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "48": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-27T17:48:51.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=dfdbe16c8faa",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: tear down AWS resources in `eu-central-1` and `us-east-2` (Bug 1553885) r=dustin\n\nWhile these regions have a Gecko workers VPC available,\nit appears there are no workers configured to run in them.\n\nIn this commit we tear down the hgmo VPC in the same regions.\nWe can easily stand up the VPCs again if we set up workers in\nthose regions.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D32727",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "49": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-27T17:46:01.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=d99210e8b88f",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "TICKscripts: update alerts and add alerting for Kafka\n\nHere we add alerting for the absence of Kafka processes on\nour broker hosts, change the alerts to only fire on state\nchanges every 2 minutes, and bold some of the text in the\nalert message.",
        "files_changed": "This commit contains 3 files changed."
      }
    }
  },
  "50": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-24T20:34:04.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=af4e16b5aa36",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-web: add cedar project repo to `replicationrules` (Bug 1554307)\n\nI noticed this was missing when Kapacitor started firing off\nconsumer lag alerts, but only for the on-premises nodes.",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=20fc9edb1c22",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "TICKscripts: alert on state changes only with 2 minute window\n\nCurrently the TICKscript alerts continuously fire every time\na new data point reaches Kapacitor. With this change the alerts\nwill only go off once, then wait for 2 minutes before firing\nagain if the alert is in the same state. All state changes\n(ie warning -> critical or anything -> OK) will still fire an\nalert.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "51": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-22T15:02:49.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=fb153bf90ccb",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-web: remove filter for sheehan's user repo (Bug 1553319)\n\nLeft over from development/testing.",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=b85b908567bf",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-web: add Thunderbird release repos to replication filters (Bug 1553323)",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "52": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-17T14:51:23.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0a3096a899ce",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "TICKscripts: increase thresholds in `vcsreplicator_consumer_lag.tick`\n\nThe Slack alerts were happening too frequently to be actionable.\nHere we increase the thresholds to a level high enough that an\nalert should require action.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "53": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-15T17:08:31.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=eedbbe051557",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: declare `ansible_{sudo,become}` as hostgroup variables",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=fdb441baf69a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: move eu-central-1 hosts to hgweb-mirrors hostgroup",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "54": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-15T16:49:16.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=57918871a6c0",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: add `autoland` to mozilla-unified (Bug 1551274) r=smacleod\n\nThis commit adds the `autoland` repository to the set of repositories\nin mozilla-unified. The tip revision of this repository will have\na bookmark named `autoland` at it's tip revision, copying the section\nname in the config file. Since all new commits will be on the default\nbranch, we limit the pulled revisions to that branch.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D31115",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "55": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-14T20:49:59.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=c1c4a668367b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: use correct IPs for eu-central-1 hosts (Bug 1548302)\n\nMy merge went awry and the hosts weren't updated. This commit\nsets the IPs to the correct value.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "56": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-14T20:31:44.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=c72925f6b17c",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: fix `bootstrap_hostname` for eu-central-1 mirrors (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "57": {
    "pusher": "lars@mozilla.com",
    "date_of_push": "2019-05-14T16:05:20.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=d18e8a095ea4",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh-server: add `sentry-sdk` to `venv_pash` (Bug 1550755) r=lars\n\nThis commit adds `sentry-sdk` to the pash virtualenv\non the hgssh servers.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30654",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "58": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-14T14:31:56.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=e3dce3f0d26a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: stand up private hg service in us-east-2 (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=cbfd7f665c0f",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: move us-east-1 hosts to hgweb-mirrors hostgroup and us-east-2 hosts to bootstrap group (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0bf07df77731",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: split `hgweb-mirrors` into regional subgroups (Bug 1548302)\n\nPreviously we had a single group with comments denoting\nthe different regions. Now we can reference hosts in the\nindividual regions by their hostgroup. This will allow us\nto use Ansible to run commands on machines in various AWS\nregions with ease.",
        "files_changed": "This commit contains 1 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=64b81e9c817b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "bootstrap: run `hg replicatehgrc` for try repos on correct host (Bug 1550782)\n\nThis command was being run on the new hgweb machine, instead\nof the hgssh master host. Oops!",
        "files_changed": "This commit contains 1 files changed."
      },
      "5": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=4c5a2e4076a4",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: move newly bootstrapped hosts in `ci-ue2` hostgroup (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      },
      "6": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=4588772ce1ae",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: stand up private hg service in eu-central-1 (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      },
      "7": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=09eac4fb3815",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: add AMI ID for CentOS7 in eu-central-1 (Bug 1548302)\n\nThe CentOS7 AMI ID for eu-central-1 was never added to the\nregional mapping. This commit adds the new region and\nre-formats the whitespace.",
        "files_changed": "This commit contains 1 files changed."
      },
      "8": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=ccc7fbade54f",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "bootstrap: add us-east-2 hosts to bootstrap hostgroup (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      },
      "9": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=663cd30b7a27",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "bootstrap: fix file permissions on `instance_data.json` during bootstrap (Bug 1550782)\n\nSomething in the bootstrap procedure sets ownership of this\nfile from `hg:hg` to `1001:1002` during the bootstrap\nplaybook. Here we reset the permissions to the desired\nstate once bootstrapping is complete.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "59": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-13T17:36:05.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=13f70d71ae3a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: do not create new ec2 resource when `user_data` changes\n\nChanges to user data shouldn't create a new resource. Any\nuser data changes will be manually applied to the extra mirrors\nas needed.",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=ca6924b0110d",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: stand up private hg service in us-east-1 (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=c5cdceaf4de3",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: add us-east-1 hosts to bootstrap hostgroup (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=91edbf180dfb",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/bootstrap: set hostname based on hostgroup variable during bootstrap",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "60": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-10T18:48:11.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=342896d12d09",
        "commit_author": "K Lars Lohn <lars@mozilla.com>",
        "commit_message": "hgext: update deprecated call to ui.progress (Bug 1550175) r=sheehan\n\nFor the extension `overlay`, the call to `ui.progress` was just replaced\n`ui.makeprogress`.  This is justified by the declaration in `overlay`\nrequiring HG47 or later.  Since `ui.makeprogress` was introduced in HG47,\nthis seem justified.\n\nFor the extension `mozext`, since I know nothing of what versions of\nHG will be used, a local function was added of the form:\n`makeprogress(ui, ...)` to the call to `ui.progress`.  In that\nmethod, `ui.makeprogress` is tried.  If that raises an `AttributeError`,\nthen the original `ui.progress` method is called.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30564",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "61": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-10T16:39:32.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=858555769242",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: add new hosts in `us-west-1` to `hgweb-mirrors` hostgroup (Bug 1548302)\n\nThese have been bootstrapped and are serving production traffic.",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=1fa8a029c136",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/bootstrap: turn off Telegraf during bootstrap procedure (Bug 1550777)\n\nKeeping the agent on causes lots of unnecessary alerts in\nthe #vcs Slack channel.",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=f98ead5d399d",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/bootstrap: run `hg replicatehgrc` on try repos after running a stream clone (Bug 1545387)\n\nSee bug 1545387 comment 7 for more on why we need this change.",
        "files_changed": "This commit contains 1 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3a3df759c32c",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: run `chown` recursively on full `/var/hg` directory instead of `instance_data.json` (Bug 1550782)\n\nPreviously we only ran `chown` on the instance data object,\nleaving `/var/hg` owned by `root`. Then when Ansible overwrites\nthe permissions to make `hg` the owner, the instance data\nobject has it's permissions corrupted.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "62": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-09T15:02:15.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6e41162eed29",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: upgrade mirror instances to `c5d.2xlarge`\n\nThe instances were previously set to this type, but I\nmoved them down as they could handle the traffic.\nUnfortunately when project repos like `larch` or `maple`\nneed to pull, the increased amount of CPU required to\ncalculate the response multiplied by the number of\nresponses that must be generated create too much load.",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=6cd9df449844",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: set `ebs_optimized = true` for hgweb mirrors",
        "files_changed": "This commit contains 1 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=33aa6d00f3c3",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: update bootstrap hosts\n\nTerraform changes required me to re-create the machines.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "63": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-09T13:54:32.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=60e5485f114b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh-server: do not install `ldap_helper.py` in pash setup (Bug 1547755)\n\nDoing so causes install to fail, when it is available in the\npash virtualenv from hgmolib.",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "64": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-08T18:19:02.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=e63c96151e7d",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: add new hosts to bootstrap hostgroup (Bug 1548302)",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "65": {
    "pusher": "lars@mozilla.com",
    "date_of_push": "2019-05-08T17:52:40.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=aa66da08bd4d",
        "commit_author": "K Lars Lohn <lars@mozilla.com>",
        "commit_message": "pash: Move ldap_helper from pash to hgmolib (Bug 1547755) r=sheehan\n\nThis allows using the LDAP module in code other than just pash.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30379",
        "files_changed": "This commit contains 4 files changed."
      }
    }
  },
  "66": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-08T17:35:55.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=f250d8415b45",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: add \"to-mdc\" search term in `aws_vpn_gateway` data source (Bug 1548302) r=bstack\n\nPreviously we searched for \"to-mdc's\". The new gateway only\nlinks back to one of the datacentres, so keeping the name while\nselecting the correct connection seems like the correct way to\nhandle this.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30292",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=4172e809ba0e",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: remove subnets in availability zone C (Bug 1548302) r=bstack\n\nTurns out, us-west-1 doesn't have an availability zone C. This\nwas mentioned to me during review, and I thought I checked each\nregion to ensure there was a third AZ for each, but apparently\nthe way I checked was wrong. Oops!\n\nConsidering we aren't using the subnet in that AZ at the moment\nany way, this isn't a huge deal. So this commit removes the C\navailability zone subnets (public and private).\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30293",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=19a3a9e03887",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: remove security group rule allowing Telegraf traffic from MDC1 (Bug 1548302) r=bstack\n\nThis rule was previously in place to allow our on-premises hosts\nto send data to the test InfluxDB instance. Now that we have the\nproduction service online, we can remove it.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30294",
        "files_changed": "This commit contains 1 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=64e8e9a62933",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: rename Route53 record variable to be region agnostic (Bug 1548302) r=bstack\n\nThe Terraform variable name included \"uw2\", short for\n\"us-west-2\". Now that we are deploying to more regions,\nit should be changed.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30295",
        "files_changed": "This commit contains 1 files changed."
      },
      "5": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=c6ea6220b09d",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: create unique certificate per region (Bug 1548302) r=bstack\n\nThe previous plan was to create a single certificate that would\nbe shared across AWS regions, but we have since learned that\nACM certificates are per-region only. So this commit moves the\ncertificate resource definition from the `main.tf` file for the\nentire Terraform config and into the `aws-vpc` modules for each\nspecific AWS region. We also remove helper variables from the\nmodule.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30296",
        "files_changed": "This commit contains 3 files changed."
      },
      "6": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0ac1bb96d120",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: stand up AWS VPC environment in us-west-1 (Bug 1548302) r=bstack\n\nNow that our environment is reproducible in different AWS regions,\nthis commit creates a new instance of the `aws-vpc` modules for use\nin us-west-1.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30297",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "67": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-08T14:35:33.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=1e05f401fe4f",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/hg-ssh: track `pushdataaggregator_groups` file under version control (Bug 1549724) r=lars\n\nThis file currently lives on the hgssh shared NFS mount, and is\nuntracked by version control.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D30221",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "68": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-08T14:17:32.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=3e6170e6eced",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hg50: mark several extensions as compatible with Mercurial 5.0 (Bug 1545236) r=lars\n\nThese extensions all pass under the release candidate\nwithout any test changes.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D28563",
        "files_changed": "This commit contains 3 files changed."
      }
    }
  },
  "69": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-07T16:15:15.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=72bf13cdc44e",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "serverlog: update number of bytes served in test output after 40-char SHA patch (Bug 1548149) r=lars\n\nThe number of bytes served has changed after making hgmo\nserve the 40-character SHA by default. It's not a breaking\nchange, so it's not a huge deal, but I'm still investigating\nthe cause.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29443",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "70": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-06T17:11:52.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=96ccae6376a2",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: remove `influxdb` test instance output module (Bug 1548865) r=glob\n\nThis commit makes the Telegraf reporting agent no longer send\noutput data to the test InfluxDB instance.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29845",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=8d6e7d5e183b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible: remove `monitoring-host` role and move TICKscripts elsewhere (Bug 1548865) r=glob\n\nThis role was used to configure the test InfluxDB instance,\nwhich is no longer needed since the production service is\navailable for use.\n\nThe TICKscripts should still be tracked under version\ncontrol, so I've moved them under the `scripts` directory.\nI'd like to find a way to automatically update the scripts\nin Kapacitor when they change in v-c-t, but I haven't done\nthat as of now.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29846",
        "files_changed": "This commit contains 11 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=70d5c046a40e",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: remove monitoring host from `aws-vpc` config (Bug 1548865) r=bstack\n\nAll traffic is now being sent to the production instance, so\nwe no longer need this test machine.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29847",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "71": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-06T14:53:04.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=7c70357a7182",
        "commit_author": "Jed Davis <jld@mozilla.com>",
        "commit_message": "hghooks: update IPC peer list to add nika, remove former peers, and fix my name (bug 1548966) r=sheehan\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29923",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "72": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-06T14:10:31.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=1e8f278de369",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "obsolescencehacks: mark as compatible with Mercurial 4.9 (Bug 1513273)\n\nTests pass, we simply overlooked the compatible version bump.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "73": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-06T13:44:20.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=222d1e4907cb",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: add monitoring of Kafka/Zookeeper processes (Bug 1548266) r=glob\n\nWe'd like to add monitoring of our Kafka brokers to the\n`monitoring-agent` Ansible role. In this commit we create\na new `kafka.conf.j2` template which will include all\nTelegraf plugins used to monitor Kafka, and include the\ntemplate in our Telegraf config on the condition the\nKafka host is in our `zk_servers` `hgmo` group variable.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29498",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "74": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-05-06T13:43:36.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=a91af8a784ee",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgtemplates: wrap instances of `author` template keyword with `mailmap` function (Bug 1464838) r=glob\n\nMercurial has an implementation of Git's `mailmap` available as a\ntemplate function. I added the implementation as a way of easing\nmy way into learning the Mercurial codebase. This commit performs\na regex replace of `{author` with `{mailmap(author)` everywhere\nin `gitweb_mozilla`, and adds the associated patch file.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29549",
        "files_changed": "This commit contains 9 files changed."
      }
    }
  },
  "75": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-30T20:55:39.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=d9911e62f3a4",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "pushlog: fix tests regressed by 40-character node patch (Bug 1548054) r=lars\n\nA few tests were overlooked when changing `gitweb_mozilla`\nto display 40-character SHAs. This commit fixes those tests.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29397",
        "files_changed": "This commit contains 3 files changed."
      }
    }
  },
  "76": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-30T17:39:20.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=2a93b060dd7e",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: remove retention policy from database name (Bug 1543989)\n\nWe only need the database name in this field.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "77": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-30T16:25:39.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=f13310e10021",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: remove quotes around boolean variable (Bug 1543989)\n\nThis causes the variable to be a string instead of a bool.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "78": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-30T16:09:51.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=d7b0532a4e6a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: fix production InfluxDB credentials (Bug 1543989)\n\nThe production URL for Mozilla's InfluxDB instance was\nincorrect, as well as the database name being enclosed\nby too many quotes.\n\nThe `influxdb_skip_database_creation` variable is also\nadded as `True` (valid in Python) instead of `true`\n(valid JSON/TOML), so we add a `to_json` filter to\nthat variable.",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "79": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-30T15:53:54.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=88247fb4308a",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "robustcheckout: remove arguments passed to `matchmod.always` in modern Mercurial (Bug 1546507) r=glob\n\nThe arguments passed to `matchmod.always` are unused under the\nhood, so they've been removed in Mercurial 5.0 and onward.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29271",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "80": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-30T15:03:56.000000",
    "changeset_commits": {
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=baa4bb1271e8",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: add encrypted InfluxDB credentials (Bug 1543989) r=lars\n\nThis commit adds a set of default Ansible variables in the\n`monitoring-agent` role, for sending data to Mozilla's\nproduction InfluxDB instance.\n\nSince `sops` doesn't yet know how to parse TOML, we store\nthe secrets as YAML Ansible defaults.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D28363",
        "files_changed": "This commit contains 2 files changed."
      },
      "4": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=32df72677efb",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: send monitoring data to production InfluxDB instance (Bug 1543989) r=lars\n\nThis commit tells Telegraf to send data to the production InfluxDB\ninstance. At the moment we will send data to both the test instance\nand the production instance, to verify all the data is correctly\nsent.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D28364",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "81": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-30T15:00:40.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=41e63de62c96",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgtemplates: pass `node` through `short` template filter for `data-node` HTML tag (Bug 1547870) r=glob\n\nNot passing the node through `short` causes a `querySelector`\ncall in `mercurial.js` to return nothing. This call is responsible\nfor applying left padding to the element, to allow the graph\nto display without the changeset information on top.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29362",
        "files_changed": "This commit contains 2 files changed."
      }
    }
  },
  "82": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-29T15:44:11.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=ae489559efe1",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "mozhg: use renamed keyword argument when running under Mercurial >= 5.0 (Bug 1546508) r=glob\n\nUnder Mercurial 5.0, the `copied` keyword argument passed\nto `context.memfilectx` has been renamed to `copysource`.\nThis commit adds a conditional to use the correct argument\nname when running under the new version.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29212",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=db9bc20ab995",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "push-to-try: mark as compatible with Mercurial 5.0 (Bug 1546508) r=glob\n\nWith `mozhg` now compatible with the 5.0 release candidate,\n`push-to-try` tests pass under the new version.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29213",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "83": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-29T13:50:05.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=51905dc214c4",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgtemplates: do not pass `node` through `short` template filter anywhere (Bug 1539324) r=glob\n\nTreeherder has removed support for using 12 character revision\nSHAs, due to the performance hit taken by being unable to fully\nindex a 12 character SHA (since the 40 character SHA is the\ncanonical version). This commit performs a global replace of\n`{node|short}` with `{node}` for the `gitweb_mozilla` theme.\n\nThe existing form takes the `node` template keyword and passes\nit through the `short` template filter, producing the 12-character\nSHA. Removing the `short` filter will cause the full 40-char\nSHA to be displayed instead.\n\nLike all other templating changes, we add a patchfile to\n`hgtemplates/.patches` that encompasses all the changes made by\nthis commit. Running `hgserver/tests/test-template-sync.t`\nverified that the changes are successfully tracked under version\ncontrol.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D29033",
        "files_changed": "This commit contains 13 files changed."
      }
    }
  },
  "84": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-26T15:21:03.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=0ec322c77f23",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgserver: add `sparserevlog` capability to `test-obsolescence-server.t` (Bug 1547276)",
        "files_changed": "This commit contains 1 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=58286127f121",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgserver: add `sparserevlog` bundle requirement to `test-clonebundles.t` (Bug 1547276)\n\nNew bundles under 4.9.1 include the `sparserevlog` requirement.\nSince none of the repos on hgmo are in the `sparserevlog` format\nyet, this is just extra test output we need to add. It doesn't\naffect behaviour in any way.",
        "files_changed": "This commit contains 1 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=e8a3e082d629",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "hgserver: add `reposetup` timing output to `test-push-basic.t` blackbox logs (Bug 1547276)\n\nMercurial 4.9.1 now includes repo setup timing information in\nblackbox logs, which we have yet to add to the tests.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "85": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-24T15:04:18.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=210ad037e038",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: only modify httpd access log permissions when `hosttype` is \"hgweb\"\n\nhgssh doesn't install Apache, so there's no log to modify.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "86": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-23T20:22:41.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=bdc17e270d0b",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: use `elif` instead of `else` in Jinja2 template\n\nAlso use double quotes to indicate a string.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "87": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-23T19:38:14.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=a9512159265c",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: allow MDC1 hosts to send traffic to InfluxDB test instance (Bug 1545434)\n\nForgot to add these new hosts to the security group rule.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  },
  "88": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-23T19:28:01.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=fae277edab13",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: move `hgweb` specific components behind a variable (Bug 1545434) r=smacleod\n\nThis way we can deploy our Telegraf config to hgssh,\nand monitor host-specific things (such as aggregator\nlag on hgssh, consumer lag on hgweb, etc).\n\nDifferential Revision: https://phabricator.services.mozilla.com/D28150",
        "files_changed": "This commit contains 4 files changed."
      },
      "2": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=7853f082ab09",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "vcsreplicator: add `--telegraf` flag to aggregator lag check (Bug 1545434) r=smacleod\n\nThis commit adds a `--telegraf` flag to the aggregator lag check\nscript running on hgssh. When the script is run with this flag,\nthe output will be formatted as JSON, consumable by Telegraf's\n`exec` plugin. With this flag added, we will be able to send\naggregator lag data to InfluxDB for monitoring/alerting purposes.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D28151",
        "files_changed": "This commit contains 2 files changed."
      },
      "3": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=8644eae3410c",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "ansible/monitoring-agent: add `hgssh` specific plugins to Telegraf config (Bug 1545434) r=smacleod\n\nThis commit adds a `hgssh` specific set of configuration options\nto the Telegraf configuration file. At the moment we track the\nlag of the \"aggregator\" replication daemons, and the presence\nof processes for those daemons. We also apply the `monitoring-agent`\nrole in the hgssh deploy playbook and set `hgssh` as the hosttype.\n\nDifferential Revision: https://phabricator.services.mozilla.com/D28152",
        "files_changed": "This commit contains 3 files changed."
      }
    }
  },
  "89": {
    "pusher": "cosheehan@mozilla.com",
    "date_of_push": "2019-04-23T19:26:29.000000",
    "changeset_commits": {
      "1": {
        "url": "https://hg.mozilla.org/hgcustom/version-control-tools/pushloghtml?changeset=675b07956340",
        "commit_author": "Connor Sheehan <sheehan@mozilla.com>",
        "commit_message": "terraform: remove `hgmointernal.com` Route53 private hosted zone\n\nWe switched to a public hosted zone instead, so the private\nzone is no longer needed.",
        "files_changed": "This commit contains 1 files changed."
      }
    }
  }
}